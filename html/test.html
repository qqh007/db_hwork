<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->

    <title>网上购物系统</title>
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="../css/all.css" />
    <link type="text/css" rel="stylesheet" href="../css_bootstrap/bootstrap-fileinput.css" />

    <script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script>
    <script src="http://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="../js_bootstrap/bootstrap-fileinput.js"></script>



</head>

<style>
</style>

<body>
    <div class="fileinput fileinput-new" data-provides="fileinput" id="uploadImageDiv">
        <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 150px; max-height: 150px;">
        </div>
        <div>
            <span class="btn btn-default btn-file">
                <span class="fileinput-new">选择图片</span>
                <span class="fileinput-exists">更改</span>
                <input type="file" name="uploadImage" id="uploadImage"  />
            </span>
            <a href="#" class="btn btn-default fileinput-exists" data-dismiss="fileinput">移除</a>
        </div>
    </div>
</body>
<script>


    function getObjectURL(file) {
        var url = null
        if (window.createObjectURL != undefined) { // basic  
            url = window.createObjectURL(file)
            console.log("window.createObjectURL");
        } else if (window.URL != undefined) { // mozilla(firefox)  
            url = window.URL.createObjectURL(file)
            console.log("wdnmd");
        } else if (window.webkitURL != undefined) { // webkit or chrome  
            url = window.webkitURL.createObjectURL(file)
            console.log("webkit or chrome ");
        }
        return url;
    }

    $("input").change(function () {
        var objUrl = getObjectURL(this.files[0]);
        var size = this.files[0].size;
        if (size >= 1024000 * 10) bottomTip("图片超过10M了哦", 0);
        else {
            if (objUrl) {
                console.log(objUrl)//最后的url
            }
        }
    })

</script>

</html>